
cbenchsuite - High accuracy C benchmark suite for Linux
=================================================

cbenchsuite offers high accuracy performance measurements. It is written in C to
minimize the impact of the suite itself on the running benchmarks. Cbench is
also highly configurable and extendable, offering extensive interfaces for
additional plugins or storage backends. By default cbenchsuite uses sqlite3 as
storage backend.

Features
--------

- Complete framework
	- Benchmarking systems
	- Storage in sqlite3 databases
	- Automatically generate figures and websites for the results
- Efficient benchmark framework
	- written in C
	- unloads unnecessary modules before benchmarking
- High accuracy
	- Efficient framework implementation
	- Setting scheduling priorities to get accurate monitor information
	- Warmup benchmark execution to remove measurements of cache heatup
	- Data is stored with the number of preceding benchmark executions to
	  be able to determine the cache hotness after the benchmarks
	- Repeat benchmarks until the standard error drops below a given
	  threshold
	- Plugins to reset Linux kernel caches/swap etc.
	- Store system information and plugin component versions to seperate
	  different benchmark environments
- Extendable
	- Extensive module/plugin/benchsuite interface that can be used without changing any core source files
	- Storage backend interface
- Configurable
	- Many configuration options like minimum/maximum runs/runtime per
	  benchmark
	- Execute combinations of plugins defined via command line arguments or
	  as a seperate benchsuite inside a module
	- Plugins can have options and different versions


Example plot
------------
![Example figure generated by cbenchsuite](http://allfex.org/files/cbenchsuite/0.1/example_plot.svg)

Installation
------------

1. First clone cbenchsuite.

		git clone https://github.com/scosu/cbenchsuite.git
		cd cbenchsuite

2. Configure cbenchsuite.

		make menuconfig

	![menuconfig screenshot](http://allfex.org/files/cbenchsuite/0.1/menuconfig.png)

	Here you can configure some options of cbenchsuite. However,
	most settings only define the default values, so it is not
	important to configure anything here.  Simply choose
	exit and save the configuration file.

3. Compile cbenchsuite.

		make

	There is no install target at the moment avaiable. After the build
	everything is located where it is needed and you can directly start
	using it.

4. Now the benchsuite is ready to use.

		./cbenchsuite

Requirements
------------
- gcc (>= 4.6, I tested 4.5.3 and it did not compile due to union problems)
- libuuid
- sqlite3
- ncurses
- gperf
- matplotlib for python >= 3 (for plotter)
- python >= 3 (for plotter)

Documentation
-------------

- **[cbenchsuite usage](doc/cbenchsuite.md)**
- **[Plotter usage](doc/plotter.md)**
- [Identifier specification](doc/identifier_specifications.md)
- [Write a module/plugin](doc/write_module_plugin.md)
- [Database](doc/database.md)

FAQ
---

1. **Why are there `NOTICE: ... failed to set priority ...` messages?**

	You are probably running cbenchsuite not as root. cbenchsuite is designed
	to create results that are very accurate, so it tries to set the priority
	for some threads. Execute the cbenchsuite as root to get rid of those
	messages. Also be aware that some plugins can not be executed as normal
	user. If you are not able to start cbenchsuite as root, you can ignore
	those messages without a problem.

Acknowledgements
----------------

- [kconfig-frontends](http://ymorin.is-a-geek.org/projects/kconfig-frontends) (Build configuration)
- [Linux](http://kernel.org) (Some datastructures like list etc.)
- [Matplotlib](http://matplotlib.org/)
- [sha256 C implementation](https://github.com/lentinj/u-boot/commit/b571afde0295b007a45055ee49f8822c753a5651)
- [statistics.py](https://github.com/nitsanw/javanetperf/blob/master/statistics.py)

License
-------
	/*
	 * Cbench - A C benchmarking suite for Linux benchmarking.
	 * Copyright (C) 2013  Markus Pargmann
	 *
	 * This program is free software; you can redistribute it and/or
	 * modify it under the terms of the GNU General Public License
	 * as published by the Free Software Foundation; either version 2
	 * of the License, or (at your option) any later version.
	 *
	 * This program is distributed in the hope that it will be useful,
	 * but WITHOUT ANY WARRANTY; without even the implied warranty of
	 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	 * GNU General Public License for more details.
	 *
	 * You should have received a copy of the GNU General Public License
	 * along with this program; if not, write to the Free Software
	 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
	 */
